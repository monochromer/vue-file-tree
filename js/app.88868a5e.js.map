{"version":3,"file":"js/app.88868a5e.js","mappings":"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","sources":["webpack://vue-folder-tree/./src/App.vue","webpack://vue-folder-tree/./src/stores/tree.js","webpack://vue-folder-tree/./src/App.vue?7ccd","webpack://vue-folder-tree/./src/main.js","webpack://vue-folder-tree/./src/components/Tree.vue","webpack://vue-folder-tree/./src/components/TreeItem.vue","webpack://vue-folder-tree/./src/components/TreeItem.vue?ac88","webpack://vue-folder-tree/./src/components/Tree.vue?b12b","webpack://vue-folder-tree/webpack/bootstrap","webpack://vue-folder-tree/webpack/runtime/chunk loaded","webpack://vue-folder-tree/webpack/runtime/compat get default export","webpack://vue-folder-tree/webpack/runtime/define property getters","webpack://vue-folder-tree/webpack/runtime/global","webpack://vue-folder-tree/webpack/runtime/hasOwnProperty shorthand","webpack://vue-folder-tree/webpack/runtime/make namespace object","webpack://vue-folder-tree/webpack/runtime/jsonp chunk loading","webpack://vue-folder-tree/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app-view\">\n    <div class=\"app-view__error\" v-if=\"loadingError\">{{ loadingError }}</div>\n    <pre class=\"app-view__debug\">{{ debugState }}</pre>\n    <div class=\"app-view__main\">\n      <Tree\n        :data=\"rootNode\"\n        @deleteItem=\"deleteItem\"\n        @changeItem=\"changeItem\"\n      />\n    </div>\n    <div class=\"app-view__loader\" v-if=\"loading\"></div>\n    <button class=\"app-view__reset\" type=\"button\" @click=\"reset\">Сбросить</button>\n  </div>\n</template>\n\n<script>\nimport { useTreeStore } from './stores/tree';\nimport Tree from './components/Tree.vue'\n\nexport default {\n  name: 'App',\n\n  components: {\n    Tree\n  },\n\n  setup() {\n    const treeStore = useTreeStore()\n    return {\n      treeStore\n    }\n  },\n\n  computed: {\n    rootNode() {\n      return this.treeStore.rootNode\n    },\n\n    loadingError() {\n      return this.treeStore.loadingError\n    },\n\n    loading() {\n      return this.treeStore.loading\n    },\n\n    debugState() {\n      return JSON.stringify(this.rootNode, null, 2)\n    }\n  },\n\n  mounted() {\n    this.treeStore.init()\n  },\n\n  methods: {\n    deleteItem(nodeId) {\n      this.treeStore.deleteItem(nodeId)\n    },\n\n    changeItem(nodeId, name) {\n      this.treeStore.changeName(nodeId, name)\n    },\n\n    reset() {\n      this.treeStore.init()\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font: 100%/1.25 'PT Mono', monospace;\n  color: #2c3e50;\n}\n\n.app-view {\n  position: absolute;\n  inset: 0;\n  display: grid;\n  grid-template-areas:\n    \"error error\"\n    \"debug main\";\n  grid-template-columns: 40% 60%;\n  grid-template-rows: auto 1fr;\n  border-radius: 4px;\n}\n\n  .app-view__error {\n    grid-area: error;\n    padding: 4px;\n    color: red;\n  }\n\n  .app-view__debug {\n    grid-area: debug;\n    margin: 0;\n    overflow: auto;\n    padding: 4px;\n    font-family: inherit;\n    line-height: 1.5;\n  }\n\n    .app-view__debug::before {\n      content: 'debug';\n      position: sticky;\n      top: 0;\n      left: 0;\n      padding: 2px 4px;\n      background-color: #f0f0f0;\n      border-radius: 4px;\n    }\n\n  .app-view__main {\n    grid-area: main;\n    overflow: auto;\n    padding: 4px;\n  }\n\n  .app-view__reset {\n    margin: 0;\n    appearance: none;\n    position: fixed;\n    left: 1rem;\n    bottom: 1rem;\n    box-sizing: border-box;\n    padding: 8px 12px;\n    width: max-content;\n    border: 0;\n    border-radius: 4px;\n    background-color: #39f;\n    color: #fff;\n    font: inherit;\n    cursor: pointer;\n  }\n\n  .app-view__loader {\n    position: fixed;\n    inset: 0;\n    margin: auto;\n    box-sizing: border-box;\n    width: 4rem;\n    height: 4rem;\n    border: 2px solid hsl(0deg 0% 90%);\n    border-top-color: #39f;\n    border-radius: 50%;\n    animation: rotate 1s linear infinite;\n  }\n\n  @keyframes rotate {\n    to {\n      transform: rotate(1turn);\n    }\n  }\n</style>\n","import { defineStore } from 'pinia'\n\n// простой полифил для `structuredClone`\nconst clone = structuredClone || ((obj) => JSON.parse(JSON.stringify(obj)))\n\nexport const useTreeStore = defineStore({\n  id: 'tree',\n\n  state: () => {\n    return {\n      initialShape: [],\n      itemsById: {},\n      loadingError: '',\n      loading: false\n    }\n  },\n\n  getters: {\n    rootNode: (state) => {\n      const items = [...state.initialShape]\n\n      function traverse(id, index, arr) {\n        const item = clone(state.itemsById[id])\n        arr[index] = item\n        if (item.children) {\n          item.children.forEach(traverse)\n        }\n      }\n\n      items.forEach(traverse)\n\n      return items\n    }\n  },\n\n  actions: {\n    async init() {\n      try {\n        this.loading = true\n\n        const response = await fetch('/data.json')\n\n        if (!response.ok) {\n          throw response\n        }\n\n        const data = await response.json()\n\n        const queue = clone(data)\n        while (queue.length > 0) {\n          const item = queue.shift()\n          const currentId = item.id\n          const children = item.children\n          if (children) {\n            item.children = children.map((item) => item.id)\n            children.forEach((child) => {\n              child.parentId = currentId\n              queue.push(child)\n            })\n          }\n          this.itemsById[item.id] = item\n        }\n\n        this.initialShape = data.map((item) => item.id)\n      } catch (error) {\n        console.log('error while loading tree data: ', error)\n        this.loadingError = error.message || error.statusText\n      } finally {\n        this.loading = false\n      }\n    },\n\n    deleteItem(nodeId) {\n      const item = this.itemsById[nodeId]\n\n      const collection = item.parentId\n        ? this.itemsById[item.parentId].children\n        : this.initialShape\n\n      collection.splice(collection.indexOf(nodeId), 1)\n      delete this.itemsById[nodeId]\n\n      const allChildIds = [...item.children]\n      while (allChildIds.length > 0) {\n        const childId = allChildIds.shift()\n        const children = this.itemsById[childId].children\n        if (children) {\n          allChildIds.push(...children)\n        }\n        delete this.itemsById[childId]\n      }\n    },\n\n    changeName(nodeId, name) {\n      const item = this.itemsById[nodeId]\n      item.name = name\n    }\n  }\n})","import { render } from \"./App.vue?vue&type=template&id=3b48cc3a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3b48cc3a&lang=css\"\n\nimport exportComponent from \"/home/runner/work/vue-file-tree/vue-file-tree/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(createPinia())\n\napp.mount('#app')\n","<template>\n  <ul class=\"tree\">\n    <TreeItem\n      v-for=\"item in data\"\n      :data=\"item\"\n      :key=\"item.id\"\n      @deleteItem=\"deleteItem\"\n      @changeItem=\"changeItem\"\n    />\n  </ul>\n</template>\n\n<script>\nimport TreeItem from './TreeItem.vue'\n\nexport default {\n  name: 'TreeComponent',\n\n  components: {\n    TreeItem\n  },\n\n  props: {\n    data: {\n      type: Array\n    }\n  },\n\n  methods: {\n    deleteItem(nodeId) {\n      this.$emit('deleteItem', nodeId)\n    },\n\n    changeItem(nodeId, nodeName) {\n      this.$emit('changeItem', nodeId, nodeName)\n    }\n  }\n}\n</script>\n\n<style>\n.tree {\n  margin: 0;\n  padding-left: 24px;\n  list-style-type: none;\n  display: grid;\n  grid-gap: 8px;\n}\n</style>\n","<template>\n  <li class=\"tree-item\">\n    <div class=\"tree-item__header\">\n      <svg v-if=\"data.type === 'directory'\" class=\"tree-item__icon tree-item__icon_view_folder\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n        <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\"></path>\n      </svg>\n      <svg v-if=\"data.type === 'file'\" class=\"tree-item__icon tree-item__icon_view_file\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n        <path d=\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"></path>\n        <polyline points=\"13 2 13 9 20 9\"></polyline>\n      </svg>\n\n      <div class=\"tree-item__name\" v-show=\"!isEdit\" @dblclick=\"enterEdit\">\n        {{ data.name }}\n      </div>\n      <form class=\"tree-item__edit-form\" v-show=\"isEdit\" @submit.prevent=\"leaveEdit\">\n        <input ref=\"input\" class=\"tree-item__name tree-item__input\" :value=\"data.name\" @input=\"changeItem\">\n      </form>\n      <div class=\"tree-item__actions\">\n        <button class=\"tree-item__button\" type=\"button\" title=\"edit\" @click=\"enterEdit\">\n          <svg class=\"tree-item__icon\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <path d=\"M12 20h9\"></path>\n            <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\n          </svg>\n        </button>\n        <button class=\"tree-item__button tree-item__button_type_delete\" type=\"button\" title=\"delete\" @click=\"deleteItem\">\n          <svg class=\"tree-item__icon\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <polyline points=\"3 6 5 6 21 6\"></polyline>\n            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n            <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n            <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class=\"tree-item__body\" v-if=\"hasChildren\">\n      <Tree\n        :data=\"data.children\"\n        @deleteItem=\"forwardDeleteItem\"\n        @changeItem=\"forwardChangeItem\"\n      />\n    </div>\n  </li>\n</template>\n\n<script>\nimport { defineAsyncComponent } from 'vue'\n\nexport default {\n  name: 'TreeItemComponent',\n\n  components: {\n    // асинхронное определение - для рекурсивных ссылок `Tree` и `TreeItem` друг на друга\n    Tree: defineAsyncComponent(() => import('./Tree.vue'))\n  },\n\n  props: {\n    data: {\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      isEdit: false\n    }\n  },\n\n  computed: {\n    hasChildren() {\n      return this.data.children && this.data.children.length > 0\n    }\n  },\n\n  methods: {\n    enterEdit() {\n      this.isEdit = true\n\n      this.$nextTick(() => {\n        this.$refs?.input?.focus()\n      })\n    },\n\n    leaveEdit() {\n      this.isEdit = false\n    },\n\n    toggleEdit() {\n      console.log(this.isEdit)\n      if (this.isEdit) {\n        this.leaveEdit()\n      } else {\n        this.enterEdit()\n      }\n    },\n\n    changeItem(event) {\n      this.$emit('changeItem', this.data.id, event.target.value)\n\n    },\n\n    deleteItem() {\n      this.$emit('deleteItem', this.data.id)\n    },\n\n    forwardDeleteItem(nodeId) {\n      this.$emit('deleteItem', nodeId)\n    },\n\n    forwardChangeItem(nodeId, nodeName) {\n      this.$emit('changeItem', nodeId, nodeName)\n    }\n  }\n}\n</script>\n\n<style>\n.tree-item {\n  padding: 8px;\n  min-width: 0;\n  border: 1px solid hsl(0deg 0% 92%);\n  border-radius: 4px;\n}\n\n  .tree-item__header {\n    margin-bottom: 2px;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .tree-item__icon {\n    flex: 0 0 auto;\n  }\n\n  .tree-item__name {\n    flex: 1 1 0%;\n    overflow: hidden;\n    box-sizing: border-box;\n    padding: 4px;\n    min-width: 0;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .tree-item__edit-form {\n    flex: 1 1 0%;\n  }\n\n  .tree-item__input {\n    --border-color: #ccc;\n    margin: 0;\n    appearance: none;\n    padding: 4px;\n    border: 0;\n    width: 100%;\n    min-width: 0;\n    display: block;\n    font: inherit;\n    border-radius: 4px;\n    box-shadow: 0 0 0 1px var(--border-color);\n    background-color: hsl(0deg 0% 98%);\n  }\n\n    .tree-item__input:focus {\n      --border-color: #39f;\n    }\n\n  .tree-item__actions {\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .tree-item__button {\n    margin: 0;\n    appearance: none;\n    padding: 8px;\n    border: 0;\n    background: 0;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: 0.2s;\n  }\n\n    .tree-item__button_type_delete {\n      color: red;\n    }\n\n    .tree-item__button:hover {\n      background-color: #f2f2f2;\n    }\n\n  .tree-item__icon {\n    display: block;\n  }\n\n  .tree-item__body {}\n\n</style>","import { render } from \"./TreeItem.vue?vue&type=template&id=6e1a4001\"\nimport script from \"./TreeItem.vue?vue&type=script&lang=js\"\nexport * from \"./TreeItem.vue?vue&type=script&lang=js\"\n\nimport \"./TreeItem.vue?vue&type=style&index=0&id=6e1a4001&lang=css\"\n\nimport exportComponent from \"/home/runner/work/vue-file-tree/vue-file-tree/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Tree.vue?vue&type=template&id=7b8b4abb\"\nimport script from \"./Tree.vue?vue&type=script&lang=js\"\nexport * from \"./Tree.vue?vue&type=script&lang=js\"\n\nimport \"./Tree.vue?vue&type=style&index=0&id=7b8b4abb&lang=css\"\n\nimport exportComponent from \"/home/runner/work/vue-file-tree/vue-file-tree/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_folder_tree\"] = self[\"webpackChunkvue_folder_tree\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(738); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","$options","_toDisplayString","_createElementVNode","_createVNode","_component_Tree","data","onDeleteItem","onChangeItem","type","onClick","clone","structuredClone","obj","JSON","parse","stringify","useTreeStore","defineStore","id","state","initialShape","itemsById","loadingError","loading","getters","rootNode","items","traverse","index","arr","item","children","forEach","actions","async","this","response","fetch","ok","json","queue","length","shift","currentId","map","child","parentId","push","error","console","log","message","statusText","deleteItem","nodeId","collection","splice","indexOf","allChildIds","childId","changeName","name","components","Tree","setup","treeStore","computed","debugState","mounted","init","methods","changeItem","reset","__exports__","render","app","createApp","App","use","createPinia","mount","_Fragment","_renderList","$props","_createBlock","_component_TreeItem","key","viewBox","width","height","stroke","fill","d","_hoisted_4","points","_hoisted_7","_hoisted_8","_hoisted_12","_hoisted_14","_hoisted_5","_hoisted_9","onDblclick","$data","onSubmit","ref","value","onInput","title","defineAsyncComponent","props","Object","isEdit","hasChildren","enterEdit","$nextTick","$refs","input","focus","leaveEdit","toggleEdit","event","$emit","target","forwardDeleteItem","forwardChangeItem","nodeName","TreeItem","Array","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}